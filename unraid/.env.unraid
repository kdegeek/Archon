# Archon Unraid Environment Configuration
# Copy this file to .env and customize for your deployment

# === REQUIRED CONFIGURATION ===

# Supabase Configuration (Required)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-key-here

# === OPTIONAL CONFIGURATION ===

# OpenAI Configuration (Optional - can be set via UI)
OPENAI_API_KEY=

# === UNRAID-SPECIFIC SETTINGS ===

# Docker Registry and Organization
REGISTRY_PREFIX=ghcr.io/coleam00

# Docker Compose project name - important for container labeling
COMPOSE_PROJECT_NAME=archon

# User/Group IDs for file permissions
# Default: 99:100 (nobody:users on Unraid)
PUID=99
PGID=100

# Timezone
TZ=America/New_York

# === STORAGE PATHS ===
# These are mapped inside docker-compose.unraid.yml
# Default Unraid appdata location
APPDATA_PATH=/mnt/user/appdata/archon
DATA_PATH=/mnt/user/archon-data

# === SERVICE PORTS ===
# Modify if these ports conflict with other services
FRONTEND_PORT=3737
SERVER_PORT=8181
MCP_PORT=8051
AGENTS_PORT=8052

# === RESOURCE LIMITS ===
# CPU limits (number of cores)
SERVER_CPU_LIMIT=2
SERVER_CPU_RESERVE=0.5
MCP_CPU_LIMIT=1
MCP_CPU_RESERVE=0.25
AGENTS_CPU_LIMIT=2
AGENTS_CPU_RESERVE=0.5
FRONTEND_CPU_LIMIT=1
FRONTEND_CPU_RESERVE=0.25

# Memory limits
SERVER_MEMORY_LIMIT=2G
SERVER_MEMORY_RESERVE=512M
MCP_MEMORY_LIMIT=1G
MCP_MEMORY_RESERVE=256M
AGENTS_MEMORY_LIMIT=2G
AGENTS_MEMORY_RESERVE=512M
FRONTEND_MEMORY_LIMIT=512M
FRONTEND_MEMORY_RESERVE=128M

# === APPLICATION SETTINGS ===

# Logging levels: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Worker Configuration
MAX_WORKERS=4

# Feature Flags
ENABLE_PROJECTS=true

# Observability (Optional)
LOGFIRE_TOKEN=

# === GPU SUPPORT (Optional) ===
# Uncomment and configure for AI acceleration
# CUDA_VISIBLE_DEVICES=0
# NVIDIA_VISIBLE_DEVICES=all
# NVIDIA_DRIVER_CAPABILITIES=compute,utility

# === BACKUP SETTINGS ===
# Used by backup scripts
BACKUP_PATH=/mnt/user/backups/archon
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=false
# BACKUP_ENCRYPTION_KEY=

# === MONITORING ===
# Health check intervals (with time units)
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# === LOGGING ===
# Docker log retention settings
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3

# === NETWORK SETTINGS ===
# Enable custom network configuration (set to false for shared hosts)
CUSTOM_NETWORK_ENABLED=true
# Custom network subnet (if needed to avoid conflicts)
NETWORK_SUBNET=172.20.0.0/16
# Custom bridge name (if needed to avoid conflicts)
BRIDGE_NAME=br-archon

# === DEVELOPMENT MODE ===
# Set to true for development/debugging
DEV_MODE=false

# === SECURITY SETTINGS ===
# Run containers as root (disable user mapping)
# WARNING: Running as root reduces security but may be needed for some deployments
RUN_AS_ROOT=false

# === NOTIFICATIONS ===
# Unraid notification settings
NOTIFY_ON_ERROR=true
NOTIFY_ON_BACKUP=true
NOTIFY_ON_UPDATE=true